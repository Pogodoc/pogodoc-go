/**
 * This file was auto-generated by Fern from our API Definition.
 */

package resources.render;

import core.ClientOptions;
import core.RequestOptions;
import java.lang.String;
import java.util.concurrent.CompletableFuture;
import resources.render.requests.GenerateDocumentPreviewRequest;
import resources.render.requests.InitializeRenderJobRequest;
import resources.render.requests.StartImmediateRenderRequest;
import resources.render.requests.StartRenderJobRequest;
import resources.render.types.GenerateDocumentPreviewResponse;
import resources.render.types.GetJobStatusResponse;
import resources.render.types.InitializeRenderJobResponse;
import resources.render.types.StartImmediateRenderResponse;
import resources.render.types.StartRenderJobResponse;

public class AsyncRenderClient {
  protected final ClientOptions clientOptions;

  private final AsyncRawRenderClient rawClient;

  public AsyncRenderClient(ClientOptions clientOptions) {
    this.clientOptions = clientOptions;
    this.rawClient = new AsyncRawRenderClient(clientOptions);
  }

  /**
   * Get responses with HTTP metadata like headers
   */
  public AsyncRawRenderClient withRawResponse() {
    return this.rawClient;
  }

  /**
   * Creates a new render job with a unique ID, sets up S3 storage for template and data files, and generates presigned upload URLs if needed. Requires subscription check.
   */
  public CompletableFuture<InitializeRenderJobResponse> initializeRenderJob(
      InitializeRenderJobRequest request) {
    return this.rawClient.initializeRenderJob(request).thenApply(response -> response.body());
  }

  /**
   * Creates a new render job with a unique ID, sets up S3 storage for template and data files, and generates presigned upload URLs if needed. Requires subscription check.
   */
  public CompletableFuture<InitializeRenderJobResponse> initializeRenderJob(
      InitializeRenderJobRequest request, RequestOptions requestOptions) {
    return this.rawClient.initializeRenderJob(request, requestOptions).thenApply(response -> response.body());
  }

  /**
   * Takes a previously initialized job, updates its status to in-progress, and triggers the rendering process using Puppeteer. Can optionally wait for render completion.
   */
  public CompletableFuture<StartRenderJobResponse> startRenderJob(String jobId) {
    return this.rawClient.startRenderJob(jobId).thenApply(response -> response.body());
  }

  /**
   * Takes a previously initialized job, updates its status to in-progress, and triggers the rendering process using Puppeteer. Can optionally wait for render completion.
   */
  public CompletableFuture<StartRenderJobResponse> startRenderJob(String jobId,
      StartRenderJobRequest request) {
    return this.rawClient.startRenderJob(jobId, request).thenApply(response -> response.body());
  }

  /**
   * Takes a previously initialized job, updates its status to in-progress, and triggers the rendering process using Puppeteer. Can optionally wait for render completion.
   */
  public CompletableFuture<StartRenderJobResponse> startRenderJob(String jobId,
      StartRenderJobRequest request, RequestOptions requestOptions) {
    return this.rawClient.startRenderJob(jobId, request, requestOptions).thenApply(response -> response.body());
  }

  /**
   * Generates a preview by creating a single-page render job, processing it immediately, and returning the output URL. Used for template visualization.
   */
  public CompletableFuture<GenerateDocumentPreviewResponse> generateDocumentPreview(
      GenerateDocumentPreviewRequest request) {
    return this.rawClient.generateDocumentPreview(request).thenApply(response -> response.body());
  }

  /**
   * Generates a preview by creating a single-page render job, processing it immediately, and returning the output URL. Used for template visualization.
   */
  public CompletableFuture<GenerateDocumentPreviewResponse> generateDocumentPreview(
      GenerateDocumentPreviewRequest request, RequestOptions requestOptions) {
    return this.rawClient.generateDocumentPreview(request, requestOptions).thenApply(response -> response.body());
  }

  /**
   * Combines initialization and rendering in one step. Creates a job, uploads template/data directly, starts rendering, and adds the document to Strapi. Requires subscription check.
   */
  public CompletableFuture<StartImmediateRenderResponse> startImmediateRender(
      StartImmediateRenderRequest request) {
    return this.rawClient.startImmediateRender(request).thenApply(response -> response.body());
  }

  /**
   * Combines initialization and rendering in one step. Creates a job, uploads template/data directly, starts rendering, and adds the document to Strapi. Requires subscription check.
   */
  public CompletableFuture<StartImmediateRenderResponse> startImmediateRender(
      StartImmediateRenderRequest request, RequestOptions requestOptions) {
    return this.rawClient.startImmediateRender(request, requestOptions).thenApply(response -> response.body());
  }

  /**
   * Fetches detailed job information from S3 storage including job status, template ID, target format, and output details if available.
   */
  public CompletableFuture<GetJobStatusResponse> getJobStatus(String jobId) {
    return this.rawClient.getJobStatus(jobId).thenApply(response -> response.body());
  }

  /**
   * Fetches detailed job information from S3 storage including job status, template ID, target format, and output details if available.
   */
  public CompletableFuture<GetJobStatusResponse> getJobStatus(String jobId,
      RequestOptions requestOptions) {
    return this.rawClient.getJobStatus(jobId, requestOptions).thenApply(response -> response.body());
  }
}
